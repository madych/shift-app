<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã‚·ãƒ•ãƒˆè¡¨ï¼ˆæœˆæ›œã¯ã˜ã¾ã‚Šãƒ»æœˆã€œåœŸï¼‰</title>

<style>
body {
  font-family: sans-serif;
  padding: 10px;
}

h2 {
  margin-bottom: 10px;
}

button {
  margin: 4px;
  padding: 6px 10px;
}

table {
  border-collapse: collapse;
  width: 100%;
  margin-top: 10px;
}

th, td {
  border: 1px solid #333;
  padding: 6px;
  text-align: center;
}

th {
  background: #eee;
}

input {
  width: 90%;
  text-align: center;
  border: none;
}

/* A4å°åˆ· */
@media print {
  button {
    display: none;
  }

  @page {
    size: A4 landscape;
    margin: 10mm;
  }
}
</style>
</head>

<body>

<h2>ã‚·ãƒ•ãƒˆè¡¨ï¼ˆæœˆæ›œã¯ã˜ã¾ã‚Šãƒ»æœˆã€œåœŸï¼‰</h2>

<div>
  <button onclick="prevWeek()">â—€ å‰é€±</button>
  <button onclick="nextWeek()">æ¬¡é€± â–¶</button>
  <button onclick="addStaff()">ï¼‹ ã‚¹ã‚¿ãƒƒãƒ•è¿½åŠ </button>
  <button onclick="printA4()">ğŸ–¨ A4å°åˆ·</button>
</div>

<table id="shiftTable"></table>

<script>
let staff = ["ç”°ä¸­", "ä½è—¤"];
let shifts = {};
let weekStart = getMonday(new Date());

function getMonday(date) {
  const d = new Date(date);
  const day = d.getDay();
  const diff = d.getDate() - day + (day === 0 ? -6 : 1);
  d.setDate(diff);
  d.setHours(0,0,0,0);
  return d;
}

function formatDate(d) {
  return (d.getMonth() + 1) + "/" + d.getDate();
}

function render() {
  const table = document.getElementById("shiftTable");
  table.innerHTML = "";

  const days = ["æœˆ","ç«","æ°´","æœ¨","é‡‘","åœŸ"];

  // ãƒ˜ãƒƒãƒ€ãƒ¼
  const head = document.createElement("tr");
  head.innerHTML = "<th>åå‰</th>";
  for (let i = 0; i < 6; i++) {
    const d = new Date(weekStart);
    d.setDate(d.getDate() + i);
    head.innerHTML += "<th>" + days[i] + "<br>" + formatDate(d) + "</th>";
  }
  table.appendChild(head);

  // æœ¬ä½“
  staff.forEach(name => {
    const tr = document.createElement("tr");

    const nameTd = document.createElement("td");
    nameTd.contentEditable = true;
    nameTd.innerText = name;
    tr.appendChild(nameTd);

    for (let i = 0; i < 6; i++) {
      const d = new Date(weekStart);
      d.setDate(d.getDate() + i);
      const key = name + "_" + d.toDateString();

      const td = document.createElement("td");
      const input = document.createElement("i
