<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã‚·ãƒ•ãƒˆè¡¨ï¼ˆæœˆæ›œã¯ã˜ã¾ã‚Šãƒ»æœˆã€œåœŸï¼‰</title>

<style>
body {
  font-family: sans-serif;
  padding: 10px;
}

h2 {
  margin-bottom: 8px;
}

button {
  margin: 4px 4px 8px 0;
  padding: 6px 10px;
}

table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  border: 1px solid #000;
  padding: 6px;
  text-align: center;
}

th {
  background: #eee;
}

input {
  width: 90%;
  text-align: center;
  border: none;
  font-size: 14px;
}

/* å°åˆ· */
@media print {
  button {
    display: none;
  }
  @page {
    size: A4 landscape;
    margin: 10mm;
  }
}
</style>
</head>

<body>

<h2 id="weekTitle">ã‚·ãƒ•ãƒˆè¡¨</h2>

<div>
  <button onclick="prevWeek()">â—€ å‰é€±</button>
  <button onclick="nextWeek()">æ¬¡é€± â–¶</button>
  <button onclick="addStaff()">ï¼‹ ã‚¹ã‚¿ãƒƒãƒ•è¿½åŠ </button>
  <button onclick="printA4()">ğŸ–¨ A4å°åˆ·</button>
  <button onclick="saveImage()">ğŸ“¸ ç”»åƒã«ã™ã‚‹</button>
</div>

<table id="shiftTable"></table>

<!-- html2canvasï¼ˆç”»åƒåŒ–ç”¨ï¼‰ -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<script>
let staff = ["ç”°ä¸­", "ä½è—¤"];
let shifts = {};
let weekStart = getMonday(new Date());

function getMonday(date) {
  const d = new Date(date);
  const day = d.getDay();
  const diff = d.getDate() - day + (day === 0 ? -6 : 1);
  d.setDate(diff);
  d.setHours(0,0,0,0);
  return d;
}

function formatDate(d) {
  return (d.getMonth()+1) + "/" + d.getDate();
}

function render() {
  const table = document.getElementById("shiftTable");
  table.innerHTML = "";

  const day
