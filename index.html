<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã‚·ãƒ•ãƒˆè¡¨ï¼ˆæœˆæ›œã¯ã˜ã¾ã‚Šãƒ»æœˆã€œåœŸï¼‰</title>

<style>
body {
  font-family: sans-serif;
  padding: 10px;
}

table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  border: 1px solid #333;
  padding: 6px;
  text-align: center;
}

th {
  background: #eee;
}

input {
  width: 90%;
  text-align: center;
}

button {
  margin: 5px;
  padding: 6px 10px;
}

/* å°åˆ·ç”¨ */
@media print {
  button, h2 {
    display: none;
  }

  @page {
    size: A4 landscape;
    margin: 10mm;
  }
}
</style>
</head>

<body>

<h2>ã‚·ãƒ•ãƒˆè¡¨ï¼ˆæœˆæ›œã¯ã˜ã¾ã‚Šãƒ»æœˆã€œåœŸï¼‰</h2>

<div>
  <button onclick="prevWeek()">â—€ å‰é€±</button>
  <button onclick="nextWeek()">æ¬¡é€± â–¶</button>
  <button onclick="addStaff()">ï¼‹ ã‚¹ã‚¿ãƒƒãƒ•è¿½åŠ </button>
  <button onclick="printA4()">ğŸ–¨ A4å°åˆ·</button>
</div>

<br>

<table id="shiftTable"></table>

<script>
let staff = ["ç”°ä¸­", "ä½è—¤"];
let shifts = {};
let weekStart = getMonday(new Date());

function getMonday(date) {
  const d = new Date(date);
  const day = d.getDay();
  const diff = d.getDate() - day + (day === 0 ? -6 : 1);
  return new Date(d.setDate(diff));
}

function formatDate(d) {
  return `${d.getMonth()+1}/${d.getDate()}`;
}

function render() {
  const table = document.getElementById("shiftTable");
  table.innerHTML = "";

  const days = ["æœˆ","ç«","æ°´","æœ¨","é‡‘","åœŸ"];
  const dates = [];

  for (let i = 0; i < 6; i++) {
    const d = new Date(weekStart);
    d.setDate(d.getDate() + i);
    dates.push(d);
  }

  const header = document.createElement("tr");
  header.innerHTML = "<th>åå‰</th>" + dates.map((d,i)=>`<th>${days[i]}<br>${formatDate(d)}</th>`).join("");
  table.appendChild(header);

  staff.forEach(name => {
    const tr = document.createElement("tr");
    tr.innerHTML = `<td contenteditable="true">${name}</td>` +
      dates.map(d => {
        const key = name + d.toDateString();
        if (!shifts[key]) shifts[key] = "";
        return `<td><input value="${shifts[key]}" oninput="
